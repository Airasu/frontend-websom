{% extends "index.html" %}
{% load static %}
{% block content %}
<head>
 <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="main-container"> 
    <div class="container-fluid"> 
      <div class="page-inner">
        <div class="page-category">
          <div class="container-fluid">
            <div class="page-inner">
                <div class="title_page">
                    <h1>Mass Reactivate</h1>
                    <div class="content">
                        <p> Please upload your csv file with the student number in the first column</p>
                        <div class="file-upload-container">
                        <h4>Upload CSV</h4>
                        <form id="fileUploadForm" action="/upload-file/" method="POST" enctype="multipart/form-data">
                            <input type="file" id="file" name="file" accept=".csv, .xlsx, .txt, .pdf">
                            <br>
                            <div class="pop-reactivate">
                                <button type="button" class="confirm-btn2" onclick="openMassPopup()">Confirm</button>
                            </div>
                            <button type="button" class="cancel-btn2">Cancel</button>                          
                        </form>
                        <p id="uploadStatus"></p>
                        </div>

                        <!-- Popup Overlay for Mass Reactivation -->
                        <div id="massPopupOverlay" class="masspopup-overlay" style="display: none;">
                            <div class="mass-reactivate-popup2">
                                <div class="popup-header">
                                    <h2>WARNING</h2>
                                </div>
                                <div class="popup-body">
                                    <p>No. of members reactivated</p>
                                    <p>No. of failed reactivation</p>
                                </div>
                                <div class="popup-actions">
                                    <button type="button" class="confirm-btn" onclick="submitMassReactivation()">Confirm</button>
                                    <button type="button" class="close-btn" onclick="closeMassPopup()">Close</button>
                                </div>
                            </div>
                        </div>
                        <!-- End Popup Overlay -->
                    </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript for Pop-up and Popup Handling -->
  <script>
    // Function to open the mass reactivation popup
    function openMassPopup() {
      document.getElementById('massPopupOverlay').style.display = 'block';
    }

    // Function to close the popup
    function closeMassPopup() {
      document.getElementById('massPopupOverlay').style.display = 'none';
    }

    // Function to handle the submission of mass reactivation
    function submitMassReactivation() {
      const code = document.getElementById('code').value;
      if (code) {
        alert('Mass reactivation confirmed with code: ' + code);
        closeMassPopup();
      } else {
        alert('Please enter a valid code.');
      }
    }
  </script>
</body>
{% endblock content %}
